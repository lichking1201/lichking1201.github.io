<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>
		
            Javascript模式 笔记（一） —— 概述及基础
              
	</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="generator" content="Jekyll" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="lichen">
	<meta name="description" content="模式是针对普遍问题的解决方案。更进一步说，模式是解决一类特定问题的模板。本文主要介绍Js的一些基础、编码规范和技巧。温故知新，为后续学习打下良好基础。">
	<meta name="keywords" content="js" />
	<link rel="shortcut icon" href="/assets/ico/favicon.ico">
	<link href="/assets/css/bootstrap.min.css" rel="stylesheet">
	<link href="/assets/css/prettify.css" rel="stylesheet">
	<link href="/themes/blog/blog.css" rel="stylesheet">
	<!--[if lt IE 9]>
		<script src="/js/ie8-responsive-file-warning.js">
		</script>
	<![endif]-->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js">
		</script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js">
		</script>
	<![endif]-->
</head>

<body id="backtop">
	<div class="blog-masthead">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#nav">
					<span class="sr-only">导航</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
			</div>
			
			
			<nav class="collapse navbar-collapse blog-nav" id="nav">
				<ul class="nav navbar-nav">
				
				
				
					<li class="">
						<a class="blog-nav-item" href="/index.html">
							首页
						</a>
					</li>
				
				
				
				
					<li class="">
						<a class="blog-nav-item" href="/archive.html">
							文章归档
						</a>
					</li>
				
				
				
				
					<li class="">
						<a class="blog-nav-item" href="/tags.html">
							标签
						</a>
					</li>
				
				
				
				
					<li class="">
						<a class="blog-nav-item" href="/assa.html">
							ASSA
						</a>
					</li>
				
				
				
				
					<li class="">
						<a class="blog-nav-item" href="https://github.com/lichking1201/lichking1201.github.io">
							博客源代码
						</a>
					</li>
				
				
				</ul>
			</nav>
		</div>
	</div>
	<div class="container blog-post">
		<div class="row">
			<div class="col-sm-8 blog-main">
				<h1 class="post-title">
					Javascript模式 笔记（一） —— 概述及基础
				</h1>
				<div class="blog-post-content">
					<h2 id="section">概述</h2>
<p>本书主要涉及三种模式</p>

<ol>
  <li>设计模式</li>
  <li>编码模式</li>
  <li>反模式</li>
</ol>

<h2 id="section-1">基本概念</h2>

<ol>
  <li>
    <p>面向对象：</p>

    <p>对象仅仅是一个容器，该容器包含了命名的属性、键-值对的列表。这里面的属性可以是函数（函数对象），这种情况下我们称其为方法。</p>
  </li>
  <li>
    <p>没有类：</p>

    <p>即构造函数，不称呼“类”，会引起误解；尽量多的使用对象组合，而不是使用类的继承</p>
  </li>
  <li>
    <p>原型（prototypes）：</p>

    <p>原型是一个对象，并且创建的每一个都会自动获取一个Prototypes属性，该属性指向一个空对象。该对象几乎等同于采用对象字面量或Object()创建的对象，区别在于它的constructor属性指向了所创建的函数，而不是指向内置的Object()函数。每一个函数都有Prototype属性</p>
  </li>
  <li>
    <p>ECMAscript5 ：</p>

    <p>使用use strict严格模式</p>
  </li>
</ol>

<h2 id="section-2">基本技巧</h2>

<ol>
  <li>
    <p><strong>编写可维护的代码</strong></p>

    <ul>
      <li>阅读性良好</li>
      <li>具有一致性</li>
      <li>预见性</li>
      <li>看起来如同一个人编写</li>
      <li>有文档</li>
    </ul>
  </li>
  <li>
    <p><strong>尽量少使用全局变量</strong></p>

    <p>注意避免隐式创建：var a=b=0 //反模式
应使用var a,b; a=b=0;</p>
  </li>
  <li>
    <p><strong>变量释放时的副作用</strong></p>

    <p>使用delete撤销变量时，var创建的全局变量无法被删除，隐式创建的可以删除
表明隐含全局变量严格来讲不是真正的变量，而是全局对象属性。属性可以通过delete操作符删除，但变量不可以</p>

    <pre><code>  var global_var = 1;
  global_novar = 2; //反模式
  (function(){
     global_fromfunc = 3 //反模式
  })();

  delete global_val; //false
  delete global_novar; //true
  delete global_fromfunc; //true

  typeof global_var; //number
  typeof global_novar; //undefined
  typeof global_fromfunc; //undefined
</code></pre>
  </li>
  <li>
    <p>访问全局变量</p>
  </li>
  <li>
    <p><strong>单一var模式</strong></p>
  </li>
  <li>
    <p><strong>变量提升</strong></p>

    <p>函数任意地方声明多个变量，效果都等同于函数顶部声明。同一作用域下，先使用，再声明，亦可。</p>

    <blockquote>
      <p>代码处理上分两个阶段，第一，这个阶段创建变量、函数声明及形参。这是解析和进入上、下文的阶段。第二个阶段是代码运行时执行过程，创建函数表达和不合格标识符（未定义变量）。但为了实际使用的目的，我们采纳了“提升”的概念，这个概念并没有在ECMAScript标准中定义，但却经常用来表述这种情形。</p>
    </blockquote>
  </li>
  <li>
    <p>for循环</p>

    <ul>
      <li>遍历HTML容器对象(HTMLColltion)时，非常耗时，缓存长度可以极大优化。</li>
      <li>i--递减遍历，因为同0比较比同数组长度比较速度更快。</li>
    </ul>
  </li>
  <li>
    <p>for-in循环</p>

    <ul>
      <li>也被成为枚举，用来遍历非数组对象。<em>不推荐遍历数组</em>，因为当该数组对象被自定义函数扩大后，可能导致逻辑上的错误。</li>
      <li>
        <p>使用hasOwnProperty()过滤原型方法</p>

        <pre><code>var man = {
   age: 25,
   handsome: true,
   heads: 1
};

// 将一个方法添加到所有对象，那么枚举对象时，就可以过滤掉此方法，有效避免命名冲突。
if(typeOf Object.prototype.clone = "undefined"){
   Object.prototype.clone = function(){};
}

for(var i in man){
   if(man.hasOwnpropotype(i)){
      console.log(i, ":" , man[i])
   }
}
</code></pre>
      </li>
    </ul>
  </li>
  <li>
    <p>不要增加内置的原型（为Object(),Array(),Function()等）</p>

    <p>严重影响到可维护性，所以除以下例外，不要添加。</p>

    <ul>
      <li>基于未来，提前定义如ECMAScript6的方法。</li>
      <li>为兼容性而添加的</li>
      <li>详细文档记录下来的</li>
    </ul>

    <p>如遇到以上情况，可采用如下模式为原型添加自定义的方法：</p>

    <pre><code>  if(typeof Object.prototype.myMethod !== 'function'){
     Object.prototype.myMethod = function(){}
  }
</code></pre>
  </li>
  <li>
    <p>Switch模式</p>

    <ul>
      <li>每个case 和 switch 纵向排列对齐</li>
      <li>每个case语句中使用代码缩进</li>
      <li>每个case语句结尾有一个明确的break语句</li>
      <li>使用default作为结束，给出默认结果</li>
    </ul>

    <p>示例</p>

    <pre><code>  var inspect_me = 0,
      result = '';

  switch(inspect_me){
  case 0:
     result = "zero";
     break;
  case 1:
     result = "one";
     break;
  default:
     result = "unknown";
  }
</code></pre>
  </li>
  <li>
    <p>避免使用隐式类型转换</p>
  </li>
  <li>
    <p>避免是使用eval()</p>
  </li>
  <li>
    <p>使用ParseInt()</p>

    <p>ECMAScript3 0开始的字符串会被当成8进制，ECMAScript5 则不会。为避免不一致性和未预期的结果，每次都制定进制参数。</p>
  </li>
  <li>
    <p>编码约定</p>
  </li>
  <li>
    <p>命名约定</p>

    <ul>
      <li>构造函数首字母大写+驼峰</li>
      <li>全部大写变量约定程序声明周期中不可改变</li>
      <li>下划线结尾，表明私有变量</li>
      <li>使用一个下划线前缀表示受保护属性，使用两个下划线表示私有属性</li>
    </ul>
  </li>
  <li>
    <p>编写注释</p>

    <p>通常有必要对所有的函数、函数参数、返回值和其他有趣或不同寻常的算法和技术都用文档记录下来。设想注释就是未来代码读者的一个提示，只需阅读注释就能明白代码中有哪些函数和函数名。</p>

    <blockquote>
      <p>最重要的习惯，也是最难遵循的习惯就是不断更新注释，因为过期注释可能会误导阅读者，这比没有注释还要可怕。</p>
    </blockquote>
  </li>
  <li>
    <p>编写API文档</p>

    <p>自动生成API文档的工具：JSDoc Toolkit 和 YUIDoc。
步骤如下：
编写特殊格式的代码块 ==》运行工具解析代码和注释 ==》 发布工具解析的结果，大多以HTML发布。</p>

    <p>使用特殊标签：</p>

    <pre><code>  /**
   * @tag value
   */
</code></pre>

    <p>举例：</p>

    <pre><code>  /**
   * 翻转一个字符串
   * 
   * @param   {String} 输入需要翻转的字符串
   * @return  {String} 翻转后的字符串
   *
   */
</code></pre>

    <p>通常：
@namespace;@class;@method;@param;@return;@constructor;@propety;@type</p>
  </li>
  <li>
    <p>编写可读性强的代码</p>
  </li>
  <li>
    <p>同行互查</p>
  </li>
  <li>
    <p>正式发布时精简代码</p>
  </li>
  <li>
    <p>运行JSLint</p>
  </li>
</ol>


				</div>
				<hr />
				<p class="post-meta">
					tags:
					
					<a href="/tags.html#前端-ref">前端</a>&ensp;
					
					<a href="/tags.html#js-ref">js</a>&ensp;
					
					<a href="/tags.html#笔记-ref">笔记</a>&ensp;
					
					&emsp;<time pubdate="2014-10-11">2014-10-11</time>
				</p>
				<!-- Duoshuo Comment BEGIN -->
				<div class="ds-thread"></div>
				<script type="text/javascript">
					var duoshuoQuery = {short_name:"lichking1201"};
					(function() {
						var ds = document.createElement('script');
						ds.type = 'text/javascript';ds.async = true;
						ds.src = 'http://static.duoshuo.com/embed.js';
						ds.charset = 'UTF-8';
						(document.getElementsByTagName('head')[0] 
						|| document.getElementsByTagName('body')[0]).appendChild(ds);
					})();
				</script>
			<!-- Duoshuo Comment END -->
			</div>
			<!--/.blog-main-->
			
			<div class="col-sm-3 col-sm-offset-1 blog-sidebar">
				<div class="sidebar-module">
					<h4>
						最新
					</h4>
					<ol class="list-unstyled">
						
						
						<li><a href="/2014/11/04/resume.html">简历</a></li>
						
						
						
						<li><a href="/2014/11/01/learn-backbone.html">Backbone 学习</a></li>
						
						
						
						<li><a href="/2014/10/16/learningJs.html">系统学习Javascript</a></li>
						
						
						
						<li><a href="/2014/10/11/js-patterns-1.html">Javascript模式 笔记（二） —— 对象与函数的编码模式</a></li>
						
						
						
						<li><a href="/2014/10/11/js-patterns-.html">Javascript模式 笔记（一） —— 概述及基础</a></li>
						
						
						
						
						
						<li><a href="/2014/02/25/myBigdata.html">我的「大数据」挖掘</a></li>
						
						
						
						<li><a href="/2014/02/24/menu-aim.html">menu-aim.js分析</a></li>
						
						
						
						
						
						
					</ol>
				</div>
				<div class="sidebar-module">
					<h4>
						标签
					</h4>
					<ol class="list-unstyled">
					
						<li>
							<a href="../tags.html#生活-ref">
								生活
							</a>
						</li>
					
						<li>
							<a href="../tags.html#前端-ref">
								前端
							</a>
						</li>
					
						<li>
							<a href="../tags.html#文档-ref">
								文档
							</a>
						</li>
					
						<li>
							<a href="../tags.html#js-ref">
								js
							</a>
						</li>
					
						<li>
							<a href="../tags.html#折腾-ref">
								折腾
							</a>
						</li>
					
						<li>
							<a href="../tags.html#笔记-ref">
								笔记
							</a>
						</li>
					
						<li>
							<a href="../tags.html#系统学习JS-ref">
								系统学习JS
							</a>
						</li>
					
					</ol>
				</div>
				<div class="sidebar-module">
					<h4>
						我在
					</h4>
					<ol class="list-unstyled">
						<li>
							<a href="https://github.com/lichking1201" target="_blank">
								GitHub
							</a>
						</li>
						<li>
							<a href="http://www.zhihu.com/people/li-chen-32" target="_blank">
								知乎
							</a>
						</li>
					</ol>
				</div>
			</div>
			<!--/.blog-sidebar-->
		</div>
		<!--/.row-->
	</div>
	<!--/.container-->
	<div class="blog-footer">
		<p>
			© 2014 lichking. with Help from <a href="http://jekyllrb.com/" target="_blank">Jekyll</a>,<a href="http://getbootstrap.com" target="_blank">Twitter Bootstrap</a> and <a href="https://github.com" target="_blank">GitHub</a>.
		</p>
		<p>
			<a href="#backtop">
				Back to top
			</a>
		</p>
	</div>
	<!--Bootstrap core JavaScript==================================================-
	-><!--Placed at the end of the document so the pages load faster-->
	<script src="https://code.jquery.com/jquery-1.10.2.min.js">
	</script>
	<script src="/assets/js/bootstrap.min.js"></script>
	<script src="/assets/js/prettify.js"></script>
 	<script src="/assets/js/docs.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			$('pre').addClass('prettyprint');
			prettyPrint();
			
			$('a[href^="http"]').each(function(){
				$(this).attr("target","_blank")
			})
		});
	</script>   
</body>
</html>